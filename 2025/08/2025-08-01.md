# 2025年08月01日(金）

---

### [◀️前日へ](https://github.com/yuasys/chatty-journal/blob/main/2025/07/2025-07-31.md)&emsp;&emsp;&emsp;&emsp;[翌日へ▶️](https://github.com/yuasys/chatty-journal/blob/main/2025/08/2025-08-02.md)

---

## Vue.js再入門 #01「Vue.jsの特徴である”宣言的レンダリング”を理解する」

---

### 再入門の目的

1. システム開発運用ノウハウを故人所有からチーム共有に変える
2. 比較的普及しているフレームワークであるVue.jsを題材にチーム共有ノウハウのあり方を考える

### 再入門の手順

1. 教材の選択と演習の実践
2. 具体的なアプリ開発と運用の実践

Vue.jsの「宣言的レンダリング」とjQueryの「命令的レンダリング」について、それぞれの特徴と意味を分かりやすく解説します。

---

### 宣言的レンダリング (Declarative Rendering) - Vue.jsの特徴

**「何をしたいか」を宣言する**

宣言的レンダリングは、**「最終的にどのようなUI（ユーザーインターフェース）になってほしいか」** を記述する方法です。具体的な手順や操作方法はフレームワークが裏で処理してくれるため、開発者は結果の状態に集中することができます。

Vue.jsでは、HTMLテンプレートにJavaScriptのデータを埋め込むような形で、コンポーネントの状態（データ）とそれが画面にどう表示されるべきかを結びつけます。データが変更されると、Vue.jsが自動的に検知し、最適な方法でDOM（Document Object Model）を更新して、宣言された通りのUIを実現します。

**例え話：料理の注文**

レストランで料理を注文するようなものです。「カレーライスをください」と注文すれば、ウェイターが厨房に伝え、シェフが適切な手順でカレーライスを作って持ってきてくれます。あなたは「どうやってカレーライスを作るか」という細かい手順を指示する必要はありません。

**Vue.jsでのコードイメージ:**

```html
<template>
  <div>
    <p v-if="showMessage">{{ message }}</p>
    <button @click="toggleMessage">メッセージを切り替える</button>
  </div>
</template>

<script>
export default {
  data() {
    return {
      showMessage: true,
      message: 'こんにちは、Vue.js！'
    };
  },
  methods: {
    toggleMessage() {
      this.showMessage = !this.showMessage;
    }
  }
};
</script>
```

このコードでは、「`showMessage`がtrueなら`message`を表示する」と宣言しています。`toggleMessage`メソッドが実行されて`showMessage`の値が変わると、Vue.jsが自動的に画面の表示・非表示を切り替えてくれます。開発者は「この要素を隠して、あの要素を表示して」といった具体的なDOM操作を記述する必要がありません。  
📍例示したコードは、そのまま[vueプレイグランド](https://play.vuejs.org/)に貼り付けて即実行可能です。

### 命令的レンダリング (Imperative Rendering) - jQueryの特徴

**「どうするべきか」を命令する**

命令的レンダリングは、**「UIをどのように変更するか」** という具体的な手順や操作を一つ一つ記述する方法です。開発者がDOMに対して直接命令を与え、その命令通りにUIが変化します。

jQueryは、DOM要素を選択し、それに対して「この要素のテキストを変更する」「この要素にクラスを追加する」「この要素を非表示にする」といった具体的な操作をコードで指示します。

**例え話：自分で料理を作る**

自分で料理を作るようなものです。まず冷蔵庫から材料を取り出し、包丁で野菜を切り、鍋に水を入れて火にかける、といった具体的な手順を一つ一つ自分で実行します。

**jQueryでのコードイメージ:**

```javascript
// HTML: <p id="myMessage">こんにちは、jQuery！</p><button id="toggleBtn">メッセージを切り替える</button>

$(document).ready(function() {
  $('#toggleBtn').on('click', function() {
    if ($('#myMessage').is(':visible')) {
      $('#myMessage').hide(); // 非表示にする命令
    } else {
      $('#myMessage').show(); // 表示する命令
    }
  });
});
```

このコードでは、「`toggleBtn`がクリックされたら、`myMessage`が見えているかどうかを判断し、見えていれば非表示にする命令を出し、見えていなければ表示する命令を出す」と記述しています。要素の表示・非表示という具体的なDOM操作を開発者が直接指示しています。

### 「宣言的レンダリングと命令的レンダリング」のまとめ

| 特徴         | 宣言的レンダリング (Vue.js)                                  | 命令的レンダリング (jQuery)                                  |
| :----------- | :----------------------------------------------------------- | :----------------------------------------------------------- |
| **考え方** | 「最終的にどうなってほしいか」を記述する                     | 「どうやって変更するか」を記述する                           |
| **焦点** | 結果の状態に集中                                             | 具体的な手順や操作に集中                                     |
| **DOM操作** | フレームワークが自動的に最適化して実行する                   | 開発者が直接、細かく指示する                                 |
| **コード量** | 一般的に少なく、意図が読み取りやすい                         | 複雑なUIではコード量が増えやすく、変更のたびにDOM操作を考慮する必要がある |
| **複雑性** | 大規模なアプリケーションになるほど管理しやすい               | UIが複雑になると、コードの管理やデバッグが難しくなる         |

現代のフロントエンド開発では、UIの状態管理が複雑になる傾向があるため、Vue.jsのような宣言的レンダリングを採用するフレームワークが主流となっています。開発者はUIの「あるべき姿」に集中できるため、生産性が向上し、保守性の高いコードを書くことができるというメリットがあります。

### 「宣言的レンダリング」の中核をなす「リアクティブ機能」とは

宣言的レンダリングの中核をなす「リアクティブ機能」について、より分かりやすく説明します。

### リアクティブ機能 (Reactivity)

リアクティブ機能とは、**「データの変化に自動的に反応し、関連するUIを更新する仕組み」** のことです。まるでデータの番人がいて、データに何か変化があったら、それを使っている場所すべてに自動で知らせてくれるようなイメージです。

Vue.jsのような宣言的レンダリングのフレームワークがこの機能を持っていることで、開発者は「データが変わったら、この部分を更新してね」と明示的に指示する必要がなくなります。

**例え話：天気予報の電光掲示板**

駅前にあるリアルタイムの天気予報電光掲示板を想像してみてください。

* **データ:** 気温、湿度、天気（晴れ、曇りなど）といった気象情報。
* **UI:** 電光掲示板に表示される今日の天気、現在の気温など。

この電光掲示板は、気象情報データが更新されると、**自動的に**表示内容が切り替わります。あなたは「気温が20度になったから、表示を20度に切り替えてね」と電光掲示板に直接指示する必要はありません。裏でセンサーが気温の変化を検知し、それが電光掲示板に反映される仕組みがあるからです。

この「データ（気温）が変わったら、自動でUI（電光掲示板の表示）が変わる」という仕組みこそが、リアクティブ機能の本質です。

**Vue.jsにおけるリアクティブ機能の仕組み**

Vue.jsでは、主に以下の要素がリアクティブ機能を実現しています。

1.  **リアクティブなデータ（State）:**
    Vue.jsのコンポーネント内で定義する`data`プロパティ内のデータは、Vue.jsによって「監視対象」となります。これは、JavaScriptのオブジェクトに特別な仕組み（getter/setter）を追加したり、Proxyと呼ばれる機能を使ったりすることで実現されます。
    例えば、`data: { message: 'こんにちは' }` と定義すると、`message`というデータはリアクティブになります。

2.  **依存関係の追跡:**
    テンプレート内でリアクティブなデータが使われると、Vue.jsはそのデータと、それが表示されているDOMの要素との間に「依存関係」を自動的に記録します。
    例えば、`<p>{{ message }}</p>` というテンプレートがある場合、Vue.jsは「この`<p>`タグの表示内容は`message`というデータに依存している」という情報を内部で覚えておきます。

3.  **変更の検知と更新:**
    リアクティブなデータが変更されると（例：`this.message = 'さようなら'`）、Vue.jsはその変更を検知します。
    そして、そのデータに依存しているUI要素（先ほどの`<p>`タグ）を特定し、**効率的かつ自動的に**DOMを更新します。開発者はDOM操作のコードを書く必要がありません。

**なぜ重要なのか？**

* **開発のしやすさ:** データの状態だけを考えればよく、UIの更新という煩雑な作業から解放されます。
* **保守性の向上:** データの変更とUIの更新が密接に連携しているため、コードがシンプルになり、バグが入りにくく、修正も容易になります。
* **パフォーマンスの最適化:** Vue.jsは、どのデータがどこで使われているかを把握しているため、本当に必要な部分だけを最小限のコストで更新します。これにより、アプリケーション全体のパフォーマンスが向上します。

リアクティブ機能は、まるで魔法のようにデータの変化にUIが追従してくれる仕組みであり、これが宣言的レンダリングを可能にし、Vue.jsをはじめとする現代のフレームワークが非常に強力である理由の一つとなっています。



---

### [◀️前の記事へ](https://github.com/yuasys/chatty-journal/blob/main/2025/07/2025-08-01.md)&emsp;&emsp;&emsp;&emsp;[次の記事へ▶️](https://github.com/yuasys/chatty-journal/blob/main/2025/08/2025-08-02.md)
