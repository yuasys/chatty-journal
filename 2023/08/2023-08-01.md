# 2023-08-01.md

---

## 2023å¹´08æœˆ01æ—¥ (ç«)

---

### [â—€ï¸å‰æ—¥ã¸](https://github.com/yuasys/chatty-journal/blob/main/2023/07/2023-07-31.md)&emsp;&emsp;&emsp;&emsp;[ç¿Œæ—¥ã¸â–¶ï¸](https://github.com/yuasys/chatty-journal/blob/main/2023/08/2023-08-02.md)

---

## ä»Šæ—¥ã®ä½“é¨“è¨˜éŒ²ã€æ°—ã¥ã

### Microsoft Power Automateã§ãŠè¡Œã†æ¥­å‹™è‡ªå‹•åŒ–ã®èª²é¡Œ

ä»Šå¹´ï¼’æœˆï¼‘ï¼æ—¥ã‹ã‚‰Automateç„¡æ–™ç‰ˆã‚’ä½¿ã£ã¦ã®è‡ªå‹•åŒ–ã«å–ã‚Šçµ„ã‚“ã§ãã¾ã—ãŸã€‚ã»ã¼åŠå¹´é–“ãŒçµŒéã—ãŸã®ã§ã€ã“ã“ã§ã¾ã¨ã‚ã¦ãŠããŸã„ã¨æ€ã„ã¾ã™ã€‚

#### å®Ÿé¨“æ¦‚è¦

1. è‡ªå‹•åŒ–å¯¾è±¡æ¥­å‹™ ãƒ–ãƒ©ã‚¦ã‚¶ï¼ˆGoogle Chromeï¼‰ã§æ¯æ—¥æ–°ã—ã„è¨˜äº‹ã®ã²ãªå½¢ã‚’ãƒã‚¹ãƒˆã™ã‚‹ã€
2. ä½¿ç”¨ã—ãŸPCï¼šWindwos11Pro
3. åˆ©ç”¨ã—ãŸã‚¢ãƒ—ãƒªï¼šMicrosoft PowerAutomateç„¡æ–™ç‰ˆ + VBS + ã‚¿ã‚¹ã‚¯ã‚¹ã‚±ã‚¸ãƒ¥ãƒ©ãƒ¼

#### è‰¯ã‹ã£ãŸç‚¹

1. ä»–ã®é–‹ç™ºæ¥­å‹™ã«é›†ä¸­ã—ã™ãã§ã‚¦ãƒƒã‚«ãƒªGithubã«è¨˜éŒ²ã™ã‚‹ã“ã¨ã‚’å¿˜ã‚Œã‚‹ã¨ã„ã†äº‹æ•…ãŒç„¡ããªã£ãŸ
2. Automateç„¡æ–™ç‰ˆã§ã‚‚ä»–ã®ã‚¢ãƒ—ãƒªã¨ã®çµ„ã¿åˆã‚ã›ã‚‹ã¨å½¹ç«‹ã¤ã“ã¨ãŒåˆ†ã‹ã£ãŸ

#### ç•™æ„ç‚¹ã‚„èª²é¡Œ

1. ãƒ–ãƒ©ã‚¦ã‚¶ã®æ›´æ–°ã«å¿œã˜ã¦Microsoft PowerAutometeã®ãƒ—ãƒ­ã‚°ãƒ©ãƒ ã®æ”¹ä¿®ãŒå¿…è¦ã§ã‚ã‚‹ï¼ˆçŸ­ã„æ™‚ã§ã€2é€±é–“ã§è¦æ”¹ä¿®ï¼‰ã€‚äºˆæƒ³ä»¥ä¸Šã«ãƒ¡ãƒ³ãƒ†ãƒŠãƒ³ã‚¹ã®å·¥æ•°ãŒå¿…è¦ã«ãªã‚‹ã€‚
2. ä½¿ç”¨ã—ã¦ã„ã‚‹PCã®OSæ›´æ–°ãªã©ã§å†èµ·å‹•ã™ã‚‹ã¨ã€ã‚¿ã‚¹ã‚¯ã‚¹ã‚±ã‚¸ãƒ¥ãƒ¼ãƒ©ãƒ¼ã¯è‡ªå‹•èµ·å‹•ã§ãã‚‹ãŒã€ç„¡æ–™ç‰ˆPoerAutomateã¯æ‰‹å‹•ã§ç«‹ã¡ä¸Šã’ã‚‹å¿…è¦ãŒã‚ã‚‹ã€‚

#### è€ƒå¯Ÿ

PowerAutomateã¯<b>ã€Œãƒãƒ¼ã‚³ãƒ¼ãƒ‰ã€ã‚’è¬³ã£ã¦ã„ã‚‹ãŒã€æ”¹ä¿®ä½œæ¥­ã«ã¯ãã‚Œãªã‚Šã®ã‚¹ã‚­ãƒ«ãŒå¿…è¦</b>ã§ã‚ã‚Šã€æ™®æ®µã‹ã‚‰ãƒªãƒ•ã‚¡ã‚¯ã‚¿ãƒªãƒ³ã‚°ã‚’ã—ã£ã‹ã‚Šã‚„ã£ã¦ã€<b>ãªã‚Œã¦ãŠã</b>ãŒã“ã¨ãŒå¤§åˆ‡ã§ã‚ã‚‹ã¨è€ƒãˆã¾ã™ã€‚å®Ÿéš›ã¯åŠå¹´é–“ã§7å›ä»¥ä¸Šã®æ”¹ä¿®ä½œæ¥­ã‚’è¡Œã„ã¾ã—ãŸãŒã€æ”¹ä¿®ä½œæ¥­ãã®ã‚‚ã®ã‚’åˆ†ã‹ã‚Šã‚„ã™ã„ã‚‚ã®ã«æ”¹å–„ã‚’é‡ã­ã‚‹ã“ã¨ãŒé‡è¦ã§ã‚ã‚‹ã¨æ„Ÿã˜ã¾ã—ãŸã€‚

1. ãƒ¡ã‚¤ãƒ³ã¯çŸ­ã‚ã«ã—ã¦ã€ã‚µãƒ–ã‚¿ã‚¹ã‚¯åŒ–ã‚’æ¨é€²ã™ã‚‹ã“ã¨ã€‚
2. ãƒ–ãƒ©ã‚¦ã‚¶ã®ä»•æ§˜å¤‰æ›´ã«ä¼´ã†æ”¹ä¿®ä½œæ¥­ã«ã¯ã€Œè¨˜éŒ²ã€æ©Ÿèƒ½ã‚’ååˆ†ã«æ´»ç”¨ã™ã‚‹ã“ã¨

---

### ã€Node.js + Express + MySQL ã§ä½œã‚‹ å®‰å…¨ãª Webã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ å®Ÿè·µè¬›åº§ No.49ã€‘ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ãƒ­ã‚°å‡ºåŠ›ã®ä½œæˆ

- [Udemyå­¦ç¿’ã®ã‚³ã‚³ã‹ã‚‰](https://www.udemy.com/course/web-application-with-nodejs-mysql/learn/lecture/27898236#notes)
`ï¼ˆæ³¨ï¼šã‚¢ã‚¯ã‚»ã‚¹æ¨©ã¯åˆ¶é™ã•ã‚Œã¦ã„ã¾ã™ï¼‰`

#### å¤§ã¾ã‹ãªæµã‚Œ

1. ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ãƒ­ã‚°å‡ºåŠ›ã®è¨­å®šã‚’è¿½åŠ 
2. ãƒ­ã‚°å‡ºåŠ›ã®å®Ÿè£…
3. ãƒ­ã‚°å‡ºåŠ›ã®å‹•ä½œç¢ºèª

#### æ‰‹é †

1. è¿½åŠ ã™ã‚‹ãƒ•ã‚¡ã‚¤ãƒ«

- <root>l/ib/log/applicationlogger.js

```javascript
const logger = require("./logger.js").application;

module.exports = function(options) {
  return function (err, req, res, next) {
    logger.error(err.message);
    next(err);
  };
};
```

2. å¤‰æ›´ã™ã‚‹ãƒ•ã‚¡ã‚¤ãƒ«

- <root>/config/log4js.config.js

```javascript
const path = require("path");
const LOG_ROOT_DIR = process.env.LOG_ROOT_DIR || path.join(__dirname, "../logs");

module.exports = {
  appenders: {
    ConsoleLogAppender: {
      type: "console"
    },
    AppliationLogAppender: {
      type: "dateFile",
      filename: path.join(LOG_ROOT_DIR, "./application.log"),
      pattern: "yyyyMMdd",
      numBackups: 7
    }
  },
  categories: {
    "default": {
      appenders: ["ConsoleLogAppender"],
      level: "ALL"
    },
    "application": {
      appenders: [
        "AppliationLogAppender",
        "ConsoleLogAppender"
      ],
      level: "INFO"
    }
  }
};
```
â€»ã€è¨‚æ­£ç®‡æ‰€ã€‘config\log4js.config.jsã®13è¡Œç›®/ã€è¨‚æ­£å‰ã€‘daysToKeep: 7ï¼ˆã“ã®è¨˜è¿°ã¯éæ¨å¥¨ã¨ãªã£ãŸï¼‰/ã€è¨‚æ­£å¾Œã€‘numBackups: 7

- <root>/lib/log/logger.js

```javascript
const log4js = require("log4js");
const config = require("../../config/log4js.config.js");
var console, application;

log4js.configure(config);

// Console logger
console = log4js.getLogger();

// Application logger
application = log4js.getLogger("application");

module.exports = {
  console,
  application
};
```


- <root>/app.js

```javascript
const PORT = process.env.PORT || 3000;
const path = require("path");
const logger = require("./lib/log/logger.js");
const applicationlogger = require("./lib/log/applicationlogger.js");
const express = require("express");
const favicon = require("serve-favicon");
const app = express();

// Express settings
app.set("view engine", "ejs");
app.disable("x-powered-by");

// Static resource rooting.
app.use(favicon(path.join(__dirname, "/public/favicon.ico")));
app.use("/public", express.static(path.join(__dirname, "/public")));

// Dynamic resource rooting.
app.use("/", require("./routes/index.js"));

// Set application log.
app.use(applicationlogger());

// Execute web application.
app.listen(PORT, () => {
  logger.application.info(`Application listening at :${PORT}`);
});
```

##### ğŸ“Œã“ã®è¬›åº§ã®&emsp;[å‰å›ã¸](https://github.com/yuasys/chatty-journal/blob/main/2023/07/2023-07-31.md#nodejs--express--mysql-%E3%81%A7%E4%BD%9C%E3%82%8B-%E5%AE%89%E5%85%A8%E3%81%AA-web%E3%82%A2%E3%83%97%E3%83%AA%E3%82%B1%E3%83%BC%E3%82%B7%E3%83%A7%E3%83%B3-%E5%AE%9F%E8%B7%B5%E8%AC%9B%E5%BA%A7-no40%E3%83%AD%E3%82%B0%E5%87%BA%E5%8A%9B%E3%81%AE%E5%9F%BA%E7%A4%8E%E7%9F%A5%E8%AD%98)&emsp;&emsp;[æ¬¡å›ã¸](https://github.com/yuasys/chatty-journal/blob/main/2023/08/2023-08-01.md#nodejs--express--mysql-%E3%81%A7%E4%BD%9C%E3%82%8B-%E5%AE%89%E5%85%A8%E3%81%AA-web%E3%82%A2%E3%83%97%E3%83%AA%E3%82%B1%E3%83%BC%E3%82%B7%E3%83%A7%E3%83%B3-%E5%AE%9F%E8%B7%B5%E8%AC%9B%E5%BA%A7-no49%E3%82%A2%E3%83%97%E3%83%AA%E3%82%B1%E3%83%BC%E3%82%B7%E3%83%A7%E3%83%B3%E3%83%AD%E3%82%B0%E5%87%BA%E5%8A%9B%E3%81%AE%E4%BD%9C%E6%88%90)
